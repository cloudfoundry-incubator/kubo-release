<% if_p("cloud-provider.type") do | provider_type | %> 
  <% if provider_type == "gce" %> 
[Global]
project-id="<%= p('cloud-provider.gce.project-id') %>"
network-name="<%= p('cloud-provider.gce.network-name') %>"
    <% if_p("cloud-provider.gce.worker-node-tag") do | worker_node_tag | %>
node-tags="<%= p('cloud-provider.gce.worker-node-tag') %>"
    <% end %>
  <% end %>
  <% if provider_type == "vsphere" %>
[Global]
user="<%= p('cloud-provider.vsphere.user') %>"
password="<%= p('cloud-provider.vsphere.password') %>"
server="<%= p('cloud-provider.vsphere.server') %>"
port="<%= p('cloud-provider.vsphere.port') %>"
insecure-flag="<%= p('cloud-provider.vsphere.insecure-flag') %>"
datacenter="<%= p('cloud-provider.vsphere.datacenter') %>"
datastore="<%= p('cloud-provider.vsphere.datastore') %>"
working-dir="<%= p('cloud-provider.vsphere.working-dir') %>"
vm-uuid="<%= p('cloud-provider.vsphere.vm-uuid', '') %>"
[Disk]
scsicontrollertype="<%= p('cloud-provider.vsphere.scsicontrollertype') %>"
  <% end %>
  <% if provider_type == "openstack" %>
[Global]
auth-url="<%= p('cloud-provider.openstack.auth-url') %>"
username="<%= p('cloud-provider.openstack.user-id') %>"
password="<%= p('cloud-provider.openstack.api-key') %>"
region="<%= p('cloud-provider.openstack.region') %>"
<% if_p('cloud-provider.openstack.domain-id') do |domain_id| %>
domain-id="<%= domain_id %>"
<% end %>
<% if_p('cloud-provider.openstack.domain-name') do |domain_name| %>
domain-name="<%= domain_name %>"
<% end %>
<% if_p('cloud-provider.openstack.tenant-id') do |tenant_id| %>
tenant-id="<%= tenant_id %>"
<% end %>
<% if_p('cloud-provider.openstack.tenant-name') do |tenant_name| %>
tenant-name="<%= tenant_name %>"
<% end %>
  <% end %>
<% end %>
